!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsyon=e():t.jsyon=e()}(this,(function(){return(()=>{var t={322:t=>{t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],s=t[1],n=t[2],a=t[3];s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&n|~s&a)+e[0]-680876936|0)<<7|r>>>25)+s|0)&s|~r&n)+e[1]-389564586|0)<<12|a>>>20)+r|0)&r|~a&s)+e[2]+606105819|0)<<17|n>>>15)+a|0)&a|~n&r)+e[3]-1044525330|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&n|~s&a)+e[4]-176418897|0)<<7|r>>>25)+s|0)&s|~r&n)+e[5]+1200080426|0)<<12|a>>>20)+r|0)&r|~a&s)+e[6]-1473231341|0)<<17|n>>>15)+a|0)&a|~n&r)+e[7]-45705983|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&n|~s&a)+e[8]+1770035416|0)<<7|r>>>25)+s|0)&s|~r&n)+e[9]-1958414417|0)<<12|a>>>20)+r|0)&r|~a&s)+e[10]-42063|0)<<17|n>>>15)+a|0)&a|~n&r)+e[11]-1990404162|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&n|~s&a)+e[12]+1804603682|0)<<7|r>>>25)+s|0)&s|~r&n)+e[13]-40341101|0)<<12|a>>>20)+r|0)&r|~a&s)+e[14]-1502002290|0)<<17|n>>>15)+a|0)&a|~n&r)+e[15]+1236535329|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&a|n&~a)+e[1]-165796510|0)<<5|r>>>27)+s|0)&n|s&~n)+e[6]-1069501632|0)<<9|a>>>23)+r|0)&s|r&~s)+e[11]+643717713|0)<<14|n>>>18)+a|0)&r|a&~r)+e[0]-373897302|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&a|n&~a)+e[5]-701558691|0)<<5|r>>>27)+s|0)&n|s&~n)+e[10]+38016083|0)<<9|a>>>23)+r|0)&s|r&~s)+e[15]-660478335|0)<<14|n>>>18)+a|0)&r|a&~r)+e[4]-405537848|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&a|n&~a)+e[9]+568446438|0)<<5|r>>>27)+s|0)&n|s&~n)+e[14]-1019803690|0)<<9|a>>>23)+r|0)&s|r&~s)+e[3]-187363961|0)<<14|n>>>18)+a|0)&r|a&~r)+e[8]+1163531501|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s&a|n&~a)+e[13]-1444681467|0)<<5|r>>>27)+s|0)&n|s&~n)+e[2]-51403784|0)<<9|a>>>23)+r|0)&s|r&~s)+e[7]+1735328473|0)<<14|n>>>18)+a|0)&r|a&~r)+e[12]-1926607734|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s^n^a)+e[5]-378558|0)<<4|r>>>28)+s|0)^s^n)+e[8]-2022574463|0)<<11|a>>>21)+r|0)^r^s)+e[11]+1839030562|0)<<16|n>>>16)+a|0)^a^r)+e[14]-35309556|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s^n^a)+e[1]-1530992060|0)<<4|r>>>28)+s|0)^s^n)+e[4]+1272893353|0)<<11|a>>>21)+r|0)^r^s)+e[7]-155497632|0)<<16|n>>>16)+a|0)^a^r)+e[10]-1094730640|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s^n^a)+e[13]+681279174|0)<<4|r>>>28)+s|0)^s^n)+e[0]-358537222|0)<<11|a>>>21)+r|0)^r^s)+e[3]-722521979|0)<<16|n>>>16)+a|0)^a^r)+e[6]+76029189|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((a=((a+=((r=((r+=(s^n^a)+e[9]-640364487|0)<<4|r>>>28)+s|0)^s^n)+e[12]-421815835|0)<<11|a>>>21)+r|0)^r^s)+e[15]+530742520|0)<<16|n>>>16)+a|0)^a^r)+e[2]-995338651|0)<<23|s>>>9)+n|0,s=((s+=((a=((a+=(s^((r=((r+=(n^(s|~a))+e[0]-198630844|0)<<6|r>>>26)+s|0)|~n))+e[7]+1126891415|0)<<10|a>>>22)+r|0)^((n=((n+=(r^(a|~s))+e[14]-1416354905|0)<<15|n>>>17)+a|0)|~r))+e[5]-57434055|0)<<21|s>>>11)+n|0,s=((s+=((a=((a+=(s^((r=((r+=(n^(s|~a))+e[12]+1700485571|0)<<6|r>>>26)+s|0)|~n))+e[3]-1894986606|0)<<10|a>>>22)+r|0)^((n=((n+=(r^(a|~s))+e[10]-1051523|0)<<15|n>>>17)+a|0)|~r))+e[1]-2054922799|0)<<21|s>>>11)+n|0,s=((s+=((a=((a+=(s^((r=((r+=(n^(s|~a))+e[8]+1873313359|0)<<6|r>>>26)+s|0)|~n))+e[15]-30611744|0)<<10|a>>>22)+r|0)^((n=((n+=(r^(a|~s))+e[6]-1560198380|0)<<15|n>>>17)+a|0)|~r))+e[13]+1309151649|0)<<21|s>>>11)+n|0,s=((s+=((a=((a+=(s^((r=((r+=(n^(s|~a))+e[4]-145523070|0)<<6|r>>>26)+s|0)|~n))+e[11]-1120210379|0)<<10|a>>>22)+r|0)^((n=((n+=(r^(a|~s))+e[2]+718787259|0)<<15|n>>>17)+a|0)|~r))+e[9]-343485551|0)<<21|s>>>11)+n|0,t[0]=r+t[0]|0,t[1]=s+t[1]|0,t[2]=n+t[2]|0,t[3]=a+t[3]|0}function s(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function a(t){var e,n,a,i,o,c,h=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=h;e+=64)r(u,s(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(r(u,a),e=0;e<16;e+=1)a[e]=0;return i=(i=8*h).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,a[14]=o,a[15]=c,r(u,a),u}function i(t){var r,s="";for(r=0;r<4;r+=1)s+=e[t>>8*r+4&15]+e[t>>8*r&15];return s}function o(t){var e;for(e=0;e<t.length;e+=1)t[e]=i(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function h(t){var e,r=[],s=t.length;for(e=0;e<s-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function u(){this.reset()}return o(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,r){var s,n,a,i,o=this.byteLength,c=t(e,o),h=o;return undefined!==r&&(h=t(r,o)),c>h?new ArrayBuffer(0):(s=h-c,n=new ArrayBuffer(s),a=new Uint8Array(n),i=new Uint8Array(this,c,s),a.set(i),n)}}(),u.prototype.append=function(t){return this.appendBinary(c(t)),this},u.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)r(this._hash,s(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},u.prototype.end=function(t){var e,r,s=this._buff,n=s.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)a[e>>2]|=s.charCodeAt(e)<<(e%4<<3);return this._finish(a,n),r=o(this._hash),t&&(r=h(r)),this.reset(),r},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(t,e){var s,n,a,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(r(this._hash,t),i=0;i<16;i+=1)t[i]=0;s=(s=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(s[2],16),a=parseInt(s[1],16)||0,t[14]=n,t[15]=a,r(this._hash,t)},u.hash=function(t,e){return u.hashBinary(c(t),e)},u.hashBinary=function(t,e){var r=o(a(t));return e?h(r):r},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(t){var e,s,a,i,o,c=(s=this._buff.buffer,a=t,i=!0,(o=new Uint8Array(s.byteLength+a.byteLength)).set(new Uint8Array(s)),o.set(new Uint8Array(a),s.byteLength),i?o:o.buffer),h=c.length;for(this._length+=t.byteLength,e=64;e<=h;e+=64)r(this._hash,n(c.subarray(e-64,e)));return this._buff=e-64<h?new Uint8Array(c.buffer.slice(e-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(t){var e,r,s=this._buff,n=s.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)a[e>>2]|=s[e]<<(e%4<<3);return this._finish(a,n),r=o(this._hash),t&&(r=h(r)),this.reset(),r},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var t,e=u.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},u.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var r,s=t.length,n=new ArrayBuffer(s),a=new Uint8Array(n);for(r=0;r<s;r+=1)a[r]=t.charCodeAt(r);return e?a:n}(t.buff,!0),u.prototype.setState.call(this,t)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(t,e){var s=o(function(t){var e,s,a,i,o,c,h=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=h;e+=64)r(u,n(t.subarray(e-64,e)));for(s=(t=e-64<h?t.subarray(e-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<s;e+=1)a[e>>2]|=t[e]<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(r(u,a),e=0;e<16;e+=1)a[e]=0;return i=(i=8*h).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,a[14]=o,a[15]=c,r(u,a),u}(new Uint8Array(t)));return e?h(s):s},u}()},586:(t,e,r)=>{const s=r(558),n=r(477);let a="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:globalThis;class i{constructor(t,e,r,s=1){this.__global=t,this.a=e,this.b=r,this.step=s,this.length=(r-e)/s|0,this.current=e-s}next(){return this.current+=this.step}__to_arr__(){let t=[],e=this.a;for(;e<this.b;e+=this.step)t.push(e);return t}__to_str__(){return`${this.a}...${this.b}|${this.step}`}__get_attr__(t){return t?.constructor===Number?this.a+this.step*t:this[t]}}t.exports=class{constructor(){this.Js=a,this.True=!0,this.False=!1,this.Null=null,this.__import_cache=new Map,this.__native_typemap=new Map,this.__native_typemap.set(Object,this.Obj),this.__native_typemap.set(Array,this.Arr),this.__native_typemap.set(String,this.Str),this.__native_typemap.set(Number,this.Num),this.__native_typemap.set(Function,this.Fn),this.__native_typemap.set(i,this.Range)}async import(t,e=!0,r){return null}async eval(t,e){return new s(new n(t).parse()).run(this,e)}async eval_json(t,e){return new s(t).run(this,e)}zip(...t){const e=[],r=t.length;if(!r)return e;const s=t[0].length;let n=t[0];for(let t=0;t<s;t++)e.push([n[t]]);for(let a=1;a<r;a++){n=t[a];for(let t=0;t<s;t++)e[t].push(n[t])}return e}Obj(...t){const e={};for(let r=0,s=t.length;r<s;r++)e[t[r][0]]=t[r][1];return e}Arr(...t){if(1===t.length){let e=t[0];if(e?.__to_arr__)return e.__to_arr__()}return t}Fn(...t){let e=t[t.length-1],r=t.slice(0,t.length-1),n=(...t)=>{let a=this.Obj(...this.zip(r,t));return a.__fn__=n,a.__args__=t,a.__args_names__=r,s.runExprGlobal(this,e,a)};return n}Num(t){return+t}Str(t){return t?.__to_str__?t.__to_str__():t+""}Range(t,e,s=1){return new i(r.g,t,e,s)}typeof(t){if(void 0===t||t===this.Null)return this.Null;const e=Object.getPrototypeOf(t).constructor;return this.__native_typemap.has(e)?this.__native_typemap.get(e):this.Obj}print(...t){return null}input(t=""){return null}sleep(t=1e3,e){return new Promise(((r,s)=>setTimeout((()=>r(void 0===e?this:e)),t)))}exit(t=0){return null}}},266:t=>{t.exports=class{constructor(t){this.__global=t}async wait_all(...t){return Promise.all(t.map((t=>t())))}}},712:t=>{t.exports=class{constructor(t){this.__global=t}async multi_test_selector(...t){return async(...e)=>{const r=[],s=Promise.all(t.map((async t=>{await t[0](...e)&&r.push(t[1])})));return async(...t)=>{await s;const e=[];for(const s of r)e.push(await s(...t));return e}}}async test_selector(...t){return async(...e)=>{const r=(async()=>{for(const r of t)if(await r[0](...e))return r[1]})();return async(...t)=>(await r)?.(...t)}}async multi_match_selector(...t){return async e=>{const r=[],s=Promise.all(t.map((async t=>{t[0]===e&&r.push(t[1])})));return async(...t)=>{await s;const e=[];for(const s of r)e.push(await s(...t));return e}}}async match_selector(...t){return async e=>{const r=(async()=>{for(const r of t)if(r[0]===e)return r[1]})();return async(...t)=>(await r)?.(...t)}}async test(t,e){return async(...r)=>{const s=(async()=>await t(...r)?e:()=>this.__global.Null)();return async(...t)=>(await s)(...t)}}async match(t,e){return async r=>{let s=()=>this.__global.Null;return t===r&&(s=e),s}}}},301:t=>{t.exports=class{constructor(t){this.__global=t}async from_range(t){const e=(Math.random()*10**(1|Math.log10(Math.abs(t.length)))|0)%t.length;return t?.__get_attr__?t.__get_attr__(e):t[e]}}},558:(t,e,r)=>{const s=r(993);class n{static entryTypeMethods=new Map;static exprCacheMap=new Map;static rawExprCacheMap=new Map;constructor(t){this.position=0,this.path=t,this.hasStartingPoint=!1,this.executionQueue=[],this.initialization=this.init()}static runExprGlobal(t,e,r,s=null){const a=s??e;if(n.exprCacheMap.has(a))return n.exprCacheMap.get(a).run(t,r);{const s=new n(e);return n.exprCacheMap.set(a,s),s.run(t,r)}}async init(){let t,e;for(;void 0!==(e=this.path[this.position]);)(t=n.entryTypeMethods.get(e.constructor))?await t.call(this,e):this.position++}setStartingPoint(t){switch(t){case"~>":this.executionQueue.push((async t=>{t.curPlace=t.context})),this.position++;break;case"global":this.executionQueue.push((async t=>{t.curPlace=t.global})),this.position++;break;default:this.executionQueue.push((async t=>{t.curPlace=t.global}))}this.hasStartingPoint=!0}async processStringEntry(t){if(t?.constructor!==String||isNaN(parseInt(t)))if(0!==this.position||this.hasStartingPoint){if(s.has(t)){const e=this.path[this.position-1];return this.executionQueue.push((async r=>{const n=r.prevPlace;r.prevPlace=r.curPlace,r.curPlace=await s.get(t)(r,n,r.prevEntry??e),r.prevEntry=t})),void this.position++}this.executionQueue.push((async e=>{e.prevPlace=e.curPlace,e.curPlace=e.curPlace?.__get_attr__?e.curPlace.__get_attr__(t):e.curPlace?.[t],e.prevEntry=t})),this.position++}else this.setStartingPoint(t);else this.path[this.position]=+t}async processNumberEntry(t){0!==this.position||this.hasStartingPoint||(this.executionQueue.push((async e=>{e.curPlace={[t]:t},e.prevEntry=t})),this.hasStartingPoint=!0),this.processStringEntry(t)}async processArrayEntry(t){this.executionQueue.push((async e=>{let r=[];for(let s=0,n=t.length;s<n;s++){const n=t[s];n?.constructor===Object?n["@__unpack_arr_args"]?r.push(...await this.processObject(e,n)):r.push(await this.processObject(e,n)):r.push(n)}let s=e.curPlace;e.curPlace=await e.curPlace.apply(e.prevPlace,r),e.prevPlace=s,e.prevEntry=t})),this.position++}async processObjectEntry(t){if(0===this.position&&!this.hasStartingPoint)return this.setStartingPoint(),this.executionQueue.push((async e=>{e.prevPlace=e.curPlace,e.curPlace=await this.processObject(e,t),e.prevEntry=e.curPlace})),void this.position++;this.executionQueue.push((async e=>{e.prevPlace=e.curPlace,e.prevEntry=await this.processObject(e,t),e.curPlace=e.curPlace?.[e.prevEntry]})),this.position++}async processObject(t,e){let r;if(e["@__raw"]){if(void 0!==e["@__last"]){const t=e["@__hash"]??e["@__last"];let r=n.rawExprCacheMap.get(t);return r||(n.rawExprCacheMap.set(t,r=["~>","(as-context)",[{"@__last":e["@__last"]}]]),r)}return e["@__expr"]}if(e["@__follow_ctx"]&&(r=t.context),void 0!==e["@__expr"])return n.runExprGlobal(t.global,e["@__expr"],r||t.prevPlace,e["@__hash"]);if(void 0!==e["@__last"]){const s=e["@__last"],a=e["@__items_hashes"]??[];if(r||=t.prevPlace,e["@__async"]){const e=[];for(let i=0,o=s.length;i<o;i++)e.push(n.runExprGlobal(t.global,s[i],r,a[i]));return await Promise.all(e),e.length?e[e.length-1]:t.global.Null}let i;for(let e=0,o=s.length;e<o;e++)i=await n.runExprGlobal(t.global,s[e],r,a[e]);return i}let s=Object.getOwnPropertyNames(e);for(let r=0,n=s.length;r<n;r++){const n=s[r],a=e[n];null!=a&&a.constructor===Object&&(e[n]=await this.processObject(t,a))}return e}async run(t,e){await this.initialization;const r={global:t,context:e,prevPlace:void 0,curPlace:void 0,prevEntry:void 0};for(let t=0,e=this.executionQueue.length;t<e;t++)await this.executionQueue[t](r);return r.curPlace}}n.entryTypeMethods.set(String,n.prototype.processStringEntry),n.entryTypeMethods.set(Array,n.prototype.processArrayEntry),n.entryTypeMethods.set(Object,n.prototype.processObjectEntry),n.entryTypeMethods.set(Number,n.prototype.processNumberEntry),t.exports=n},993:t=>{const e={"(new)":({prevPlace:t},e,r)=>(...e)=>new t(...e),"(as-context)":(t,e,r)=>t=>t,"(through)":({prevPlace:t},e,r)=>()=>t,"(then-else)":({prevPlace:t},e,r)=>(e,r)=>t?e:r,"(else)":({prevPlace:t},e,r)=>e=>t||e,"(then)":({prevPlace:t},e,r)=>e=>t?e:t,"(map)":async({prevPlace:t},e,r)=>e=>Promise.all(t.map(((t,r)=>e(t,r)))),"(reduce)":async({prevPlace:t},e,r)=>async(e,r)=>{for(let s=0,n=t.length;s<n;s++)e=await r(e,t[s],s);return e},"(async)":async({prevPlace:t},e,r)=>(...e)=>{const r=new Promise(((r,s)=>r(t(...e))));return()=>r},"(bind)":async({prevPlace:t},e,r)=>(...e)=>(...r)=>t(...e,...r),"=":(t,e,r)=>t=>(e[r]=t,t),"+=":(t,e,r)=>t=>e[r]+=t,"-=":(t,e,r)=>t=>e[r]-=t,"/=":(t,e,r)=>t=>e[r]/=t,"*=":(t,e,r)=>t=>e[r]*=t,"+":({prevPlace:t})=>e=>t+e,"-":({prevPlace:t})=>e=>t-e,"/":({prevPlace:t})=>e=>t/e,"%":({prevPlace:t})=>e=>t%e,"*":({prevPlace:t})=>e=>t*e,"**":({prevPlace:t})=>e=>t**e,">":({prevPlace:t})=>e=>t>e,"<":({prevPlace:t})=>e=>t<e,"==":({prevPlace:t})=>e=>t===e,"!=":({prevPlace:t})=>e=>t!==e,"&":({prevPlace:t})=>e=>t&e,"|":({prevPlace:t})=>e=>t|e,"..":({prevPlace:t,global:e},r,s)=>(r,s=1)=>e.Range(t,r,s)};t.exports=new Map(Object.entries(e))},477:(t,e,r)=>{const s=r(322);function n(t){return t.replace(/[\/.*+?^${}()|[\]\\\-]/g,"\\$&")}class a{constructor(t,e){this.tokens=e,this.tokenLength=t}toString(){return 1===this.tokenLength?`[${n(this.tokens.join(""))}]`:`(?:${this.tokens.map(n).join("|")})`}}class i{static colorizationRegExp=new RegExp("(?<!\\\\)(?:\\\\)(?:x1b\\[(\\d+)m)","gmi");constructor(...t){this.chars=t.map((t=>"\\\\"+t[0])),this.specials=t.reduce(((t,e)=>(t[e[0]]=e[1],t)),{}),this.findTemplate=`(?:${t.map((t=>"\\\\"+n(t[0]))).join("|")})`,this.replaceRegExp=new RegExp(`(?<!\\\\)(?:\\\\)(${t.map((t=>n(t[0]))).join("|")})`,"gmi")}clean(t){return t.replace(this.replaceRegExp,((t,e)=>this.specials[e])).replace(i.colorizationRegExp,((t,e)=>`[${e}m`))}toString(){return this.findTemplate}}class o{static specialsChars=new i(["n","\n"],["r","\r"],["t","\t"]);constructor(t){this.quote=t}toString(){return`(?:${this.quote})((?:\\\\${this.quote}|${o.specialsChars}|.|\\n)*?)(?:${this.quote})`}}class c{static tokenCollections=[new a(2,["+=","-=","/=","*=","~>","==","!=","..","**"]),new a(1,["$",">","<","!","~","&","|","=","+","-","/","*",",",":","[","]","{","}","(",")","@",".","%"])];static quoteBlocks=[new o('"'),new o("`"),new o("'")];static blockOpenSymbols={"{":"}","[":"]","(":")"};static blockCloseSymbols={"}":"{","]":"{",")":"("};static tokenizerRegExp=new RegExp(c.quoteBlocks.join("|")+"|(?<comment>#\\*[\\s\\S]*?\\*#|#.*?$)|(?:-|)(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|\\d+)(?!\\w)"+`|(?:\\d|\\w|\\\\(?:${c.tokenCollections.join("|")}))+|`+c.tokenCollections.join("|"),"gmi");constructor(t,e=null){this.tokens=e||[...t.matchAll(c.tokenizerRegExp)].filter((t=>!t.groups?.comment)).map((t=>o.specialsChars.clean(t.reverse().find((t=>void 0!==t))))),this.position=0,this.tokensCount=this.tokens.length,this.body=[],this.blockParsers={"{":this.parseObjectBlock.bind(this),"[":this.parseArrayBlock.bind(this),"(":this.parseOperatorBlock.bind(this)}}current(){return this.tokens[this.position]}next(){return this.position++,this.current()}push(t){this.body.push(t)}prepareString(t){return t?t.replace(/\\(.)/gim,"$1"):""}createArrayHash(t){const e=new s;let r;for(let s=0,n=t.length;s<n;s++){switch(r=t[s],r?.constructor){case Object:r=this.createObjectHash(r);break;case Array:r=this.createArrayHash(r);break;default:r=""+r}e.append(r)}return e.end()}createObjectHash(t){const e=t?.["@__hash"];if(e)return s.hash("Object "+e);const r=new s;let n;for(let e=0,s=Object.getOwnPropertyNames(t).sort().length;e<s;e++){switch(n=t[key],n?.constructor){case Object:n=this.createObjectHash(n);break;case Array:n=this.createArrayHash(n);break;default:n=""+n}r.append(n)}return r.end()}createHash(t){switch(t?.constructor){case Object:return this.createObjectHash(t);case Array:return this.createArrayHash(t);default:return s.hash(""+t)}}buildExpr(t,e){let r={};return(t=t.filter((t=>t)).reduce(((t,e)=>(t[e]=1,t)),{})).$&&(r["@__raw"]=1),t["@"]&&(r["@__follow_ctx"]=1),t.async&&(r["@__async"]=1),t[".."]&&(r["@__unpack_arr_args"]=1),t[">"]?(r["@__last"]=this.getArrayTopLevelItems(e).map((t=>new c(null,t).parse())),r["@__items_hashes"]=r["@__last"].map((t=>this.createHash(t))),r["@__hash"]=s.hash(r["@__items_hashes"].join(""))):(r["@__expr"]=new c(null,this.getArrayTopLevelItems(e)[0]).parse(),r["@__hash"]=this.createHash(r["@__expr"])),r}getArrayTopLevelItems(t){let e,r=[],s=0,n=0,a=t.length,i=[];for(;n<a;){if(e=t[n],n++,c.blockOpenSymbols[e])s++;else if(c.blockCloseSymbols[e])s--;else if(","===e&&0===s){r.push(i),i=[];continue}i.push(e),n==a&&r.push(i)}return r}parseArrayBlock(t){let e=this.getArrayTopLevelItems(t),r=[];for(let t of e){let e=t.indexOf(":");-1!==e?r.push(this.buildExpr(t.slice(0,e),"["===t[e+1]?t.slice(e+2,t.length-1):t.slice(e+1,t.length))):r.push(this.prepareString(t.join("")))}return r}parseObjectBlock(t){return this.parseArrayBlock(t)[0]}parseOperatorBlock(t){return`(${t.join("")})`}parseBlock(){let t,e=1,r=this.current(),s=c.blockOpenSymbols[r],n=[];for(;this.position<this.tokensCount;){if(t=this.next(),t===r)e++;else if(t===s&&0==--e)break;n.push(t)}this.next(),this.body.push(this.blockParsers[r](n))}parse(){let t;for(;this.position<this.tokensCount;)t=this.current(),c.blockOpenSymbols[t]?(this.parseBlock(),t=this.current()):(this.push(this.prepareString(t)),this.next());return this.body}}t.exports=c},47:(t,e,r)=>{const s=new Map;s.set("@async",r(266)),s.set("@random",r(301)),s.set("@branches",r(712)),t.exports=s},314:(t,e,r)=>{const s=r(586),n=r(47);t.exports=class extends s{constructor(){super()}async import(t,e=!0,r){let s,a,i=new Promise(((t,e)=>(s=t,a=e)));if(e){if(this.__import_cache.has(t))return s(this.__import_cache.get(t)),i;this.__import_cache.set(t,i)}return s(new(n.get(relPath))(this)),i}print(...t){return console.log(...t),t}input(t=""){return prompt(t)}}},164:(t,e,r)=>{const s=r(558),n=r(477),a=r(314);t.exports={Interpreter:s,Parser:n,Global:a}}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,r),a.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(164)})()}));