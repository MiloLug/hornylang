!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsyon=e():t.jsyon=e()}(this,(function(){return(()=>{var t={586:(t,e,r)=>{const s=r(558),i=r(477);let n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:globalThis;class o{constructor(t,e,r,s=1){this.__global=t,this.a=e,this.b=r,this.step=s,this.length=(r-e)/s|0,this.current=e-s}next(){return this.current+=this.step}__to_arr__(){let t=[],e=this.a;for(;e<this.b;e+=this.step)t.push(e);return t}__to_str__(){return`${this.a}...${this.b}|${this.step}`}__get_attr__(t){return t?.constructor===Number?this.a+this.step*t:this[t]}}t.exports=class{constructor(){this.Js=n,this.True=!0,this.False=!1,this.Null=null,this.__import_cache=new Map}async import(t,e=!0,r){return null}async eval(t,e){return new s(this,new i(t).parse(),e).run()}async eval_json(t,e){return new s(this,t,e).run()}zip(...t){return t[0].map(((e,r)=>t.map((t=>t[r]))))}Obj(...t){return t.reduce(((t,e)=>(t[e[0]]=e[1],t)),{})}Arr(...t){if(1===t.length){let e=t[0];if(e?.__to_arr__)return e.__to_arr__()}return t}Fn(...t){let e=t[t.length-1],r=t.slice(0,t.length-1),i=(...t)=>{let n=this.Obj(...this.zip(r,t));return n.__fn__=i,new s(this,e,n).run()};return i}Num(t){return new Number(t)}Str(t){return t?.__to_str__?t.__to_str__():new String(t)}Range(t,e,s=1){return new o(r.g,t,e,s)}print(...t){return null}input(t=""){return null}exit(t=0){return null}}},266:t=>{t.exports=class{constructor(t){this.__global=t}async wait_all(...t){return Promise.all(t.map((t=>t())))}}},301:t=>{t.exports=class{constructor(t){this.__global=t}async from_range(t){const e=(Math.random()*10**(1|Math.log10(Math.abs(t.length)))|0)%t.length;return t?.__get_attr__?t.__get_attr__(e):t[e]}}},558:(t,e,r)=>{const s=r(993);t.exports=class t{constructor(t,e,r,s){this.entryTypeMethods=new Map,this.entryTypeMethods.set(String,this.processStringEntry.bind(this)),this.entryTypeMethods.set(Array,this.processArrayEntry.bind(this)),this.entryTypeMethods.set(Object,this.processObjectEntry.bind(this)),this.entryTypeMethods.set(Number,this.processNumberEntry.bind(this)),this.position=0,this.prevPlace,this.curPlace=s,this.path=e,this.context=r,this.global=t}findStartElements(t){switch(t){case"~>":this.curPlace=this.context,this.position++;break;case"global":this.curPlace=this.global,this.position++;break;default:this.curPlace=this.global}}async processStringEntry(t){if(t?.constructor!==String||isNaN(parseInt(t)))if(0!==this.position||null!=this.curPlace){if(s[t]){let e=this.prevPlace,r=this.path[this.position-1];return this.prevPlace=this.curPlace,this.curPlace=await s[t](this,e,r),void this.position++}null!=this.curPlace&&(this.prevPlace=this.curPlace,this.curPlace=this.curPlace?.__get_attr__?this.curPlace.__get_attr__(t):this.curPlace[t]),this.position++}else this.findStartElements(t);else this.path[this.position]=+t}async processNumberEntry(t){0===this.position&&null==this.curPlace?this.curPlace={[t]:t}:this.processStringEntry(t)}async processArrayEntry(t){let e=[];for(let r of t)null!=r&&r.constructor===Object?e.push(await this.processObject(r)):e.push(r);let r=this.curPlace;this.curPlace=await this.curPlace.apply(this.prevPlace,e),this.prevPlace=r,this.position++}async processObjectEntry(t){if(this.prevPlace=this.curPlace,0===this.position&&null==this.curPlace)return this.findStartElements(),this.prevPlace=this.curPlace,this.curPlace=await this.processObject(t),void this.position++;null!=this.curPlace&&(this.curPlace=this.curPlace[await this.processObject(t)]),this.position++}async processObject(e){let r;if(e["@__raw"])return void 0!==e["@__last"]?["~>","(as-context)",[{"@__last":e["@__last"]}]]:e["@__expr"];if(e["@__follow_ctx"]&&(r=this.context),void 0!==e["@__expr"])return await new t(this.global,e["@__expr"],r||this.prevPlace).run();if(void 0!==e["@__last"]){let s;for(let i of e["@__last"])s=await new t(this.global,i,r||this.prevPlace).run();return s}let s=Object.getOwnPropertyNames(e);for(let t of s){let r=e[t];null!=r&&r.constructor===Object&&(e[t]=await this.processObject(r))}return e}async run(){let t,e;for(;void 0!==(e=this.path[this.position]);)(t=this.entryTypeMethods.get(e.constructor))?await t(e):this.position++;return this.curPlace}}},993:t=>{t.exports={"(new)":(t,e,r)=>{let s=t.prevPlace;return(...t)=>new s(...t)},"(as-context)":(t,e,r)=>t=>t,"(through)":(t,e,r)=>{let s=t.prevPlace;return()=>s},"(then-else)":(t,e,r)=>{let s=t.prevPlace;return(t,e)=>s?t:e},"(else)":(t,e,r)=>{let s=t.prevPlace;return t=>s||t},"(then)":(t,e,r)=>{let s=t.prevPlace;return t=>s?t:s},"(map)":async(t,e,r)=>{let s=crx.prevPlace;return t=>Promise.all(s.map(((e,r)=>t(e,r))))},"(async)":async(t,e,r)=>{let s=t.prevPlace;return(...t)=>{let e=new Promise(((e,r)=>e(s(...t))));return()=>e}},"(reduce)":async(t,e,r)=>{let s=0,i=t.prevPlace;return async(t,e)=>{for(let r of i)await e(t,r,s),s++;return t}},"=":(t,e,r)=>t=>(e[r]=t,t),"+=":(t,e,r)=>t=>e[r]+=t,"-=":(t,e,r)=>t=>e[r]-=t,"/=":(t,e,r)=>t=>e[r]/=t,"*=":(t,e,r)=>t=>e[r]*=t,"+":(t,e,r)=>{let s=t.prevPlace;return t=>s+t},"-":(t,e,r)=>{let s=t.prevPlace;return t=>s-t},"/":(t,e,r)=>{let s=t.prevPlace;return t=>s/t},"*":(t,e,r)=>{let s=t.prevPlace;return t=>s*t},">":(t,e,r)=>{let s=t.prevPlace;return t=>s>t},"<":(t,e,r)=>{let s=t.prevPlace;return t=>s<t},"==":(t,e,r)=>{let s=t.prevPlace;return t=>s===t},"!=":(t,e,r)=>{let s=t.prevPlace;return t=>s!==t},"...":(t,e,r)=>{let s=t.prevPlace,i=t.global;return(t,e=1)=>i.Range(s,t,e)}}},477:t=>{function e(t){return t.replace(/[\/.*+?^${}()|[\]\\\-]/g,"\\$&")}class r{constructor(t,e){this.tokens=e,this.tokenLength=t}toString(){return 1===this.tokenLength?`[${e(this.tokens.join(""))}]`:`(?:${this.tokens.map(e).join("|")})`}}class s{constructor(...t){this.chars=t.map((t=>"\\\\"+t[0])),this.specials=t.reduce(((t,e)=>(t[e[0]]=e[1],t)),{}),this.findTemplate=`(?:${t.map((t=>"\\\\"+t[0])).join("|")})`,this.replaceRegExp=new RegExp(`(?<!\\\\)(?:\\\\)(${t.map((t=>t[0])).join("|")})`,"gmi")}clean(t){return t.replace(this.replaceRegExp,((t,e)=>this.specials[e]))}toString(){return this.findTemplate}}class i{static specialsChars=new s(["n","\n"],["r","\r"],["t","\t"]);constructor(t){this.quote=t}toString(){return`(?:${this.quote})((?:\\\\${this.quote}|${i.specialsChars}|.|\\n)*?)(?:${this.quote})`}}t.exports=class t{static tokenCollections=[new r(3,["..."]),new r(2,["+=","-=","/=","*=","~>","==","!="]),new r(1,["$",">","<","!","~","=","+","-","/","*",",",":","[","]","{","}","(",")","@","."])];static quoteBlocks=[new i('"'),new i("`"),new i("'")];static blockOpenSymbols={"{":"}","[":"]","(":")"};static blockCloseSymbols={"}":"{","]":"{",")":"("};static commentRegExp=new RegExp("(?:#\\*[\\s\\S]*?\\*#)|(?:#.*?$)","gmi");static tokenizerRegExp=new RegExp(t.quoteBlocks.join("|")+"|(?:-|)(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|\\d+)(?!\\w)"+`|(?:\\d|\\w|\\\\(?:${t.tokenCollections.join("|")}))+|`+t.tokenCollections.join("|"),"gmi");constructor(e,r=null){e&&(e=e.replace(t.commentRegExp,"")),this.tokens=r||[...e.matchAll(t.tokenizerRegExp)].map((t=>i.specialsChars.clean(t.reverse().find((t=>void 0!==t))))),this.position=0,this.tokensCount=this.tokens.length,this.body=[],this.blockParsers={"{":this.parseObjectBlock.bind(this),"[":this.parseArrayBlock.bind(this),"(":this.parseOperatorBlock.bind(this)}}current(){return this.tokens[this.position]}next(){return this.position++,this.current()}push(t){this.body.push(t)}prepareString(t){return t?t.replace(/\\(.)/gim,"$1"):""}buildExpr(e,r){let s={};return(e=e.filter((t=>t)).reduce(((t,e)=>(t[e]=1,t)),{})).$&&(s["@__raw"]=1),e["@"]&&(s["@__follow_ctx"]=1),e[">"]?s["@__last"]=this.getArrayTopLevelItems(r).map((e=>new t(null,e).parse())):s["@__expr"]=new t(null,this.getArrayTopLevelItems(r)[0]).parse(),s}getArrayTopLevelItems(e){let r,s=[],i=0,n=0,o=e.length,l=[];for(;n<o;){if(r=e[n],n++,t.blockOpenSymbols[r])i++;else if(t.blockCloseSymbols[r])i--;else if(","===r&&0===i){s.push(l),l=[];continue}l.push(r),n==o&&s.push(l)}return s}parseArrayBlock(t){let e=this.getArrayTopLevelItems(t),r=[];for(let t of e){let e=t.indexOf(":");-1!==e?r.push(this.buildExpr(t.slice(0,e),"["===t[e+1]?t.slice(e+2,t.length-1):t.slice(e+1,t.length))):r.push(this.prepareString(t.join("")))}return r}parseObjectBlock(t){return this.parseArrayBlock(t)[0]}parseOperatorBlock(t){return`(${t.join("")})`}parseBlock(){let e,r=1,s=this.current(),i=t.blockOpenSymbols[s],n=[];for(;this.position<this.tokensCount;){if(e=this.next(),e===s)r++;else if(e===i&&0==--r)break;n.push(e)}this.next(),this.body.push(this.blockParsers[s](n))}parse(){let e;for(;this.position<this.tokensCount;)e=this.current(),t.blockOpenSymbols[e]?(this.parseBlock(),e=this.current()):(this.push(this.prepareString(e)),this.next());return this.body}}},47:(t,e,r)=>{const s=new Map;s.set("@async",r(266)),s.set("@random",r(301)),t.exports=s},314:(t,e,r)=>{const s=r(586),i=r(47);t.exports=class extends s{constructor(){super()}async import(t,e=!0,r){let s,n,o=new Promise(((t,e)=>(s=t,n=e)));if(e){if(this.__import_cache.has(t))return s(this.__import_cache.get(t)),o;this.__import_cache.set(t,o)}return s(new(i.get(relPath))(this)),o}print(...t){return console.log(...t),t}input(t=""){return prompt(t)}}},164:(t,e,r)=>{const s=r(558),i=r(477),n=r(314);t.exports={Interpreter:s,Parser:i,Global:n}}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(164)})()}));